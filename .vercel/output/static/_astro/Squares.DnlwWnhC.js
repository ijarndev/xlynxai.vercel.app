import{j as Y}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.RH_Wq4ov.js";const j=({direction:x="right",speed:v=1,borderColor:g="#999",squareSize:t=40,hoverFillColor:y="#222"})=>{const R=s.useRef(null),d=s.useRef(null),k=s.useRef(0),L=s.useRef(0),n=s.useRef({x:0,y:0}),o=s.useRef(null);return s.useEffect(()=>{const e=R.current;if(!e)return;const c=e.getContext("2d"),i=()=>{e.width=e.offsetWidth,e.height=e.offsetHeight,k.current=Math.ceil(e.width/t)+1,L.current=Math.ceil(e.height/t)+1};window.addEventListener("resize",i),i();const X=()=>{if(!c)return;c.clearRect(0,0,e.width,e.height);const r=Math.floor(n.current.x/t)*t,f=Math.floor(n.current.y/t)*t;for(let a=r;a<e.width+t;a+=t)for(let h=f;h<e.height+t;h+=t){const m=a-n.current.x%t,u=h-n.current.y%t;o.current&&Math.floor((a-r)/t)===o.current.x&&Math.floor((h-f)/t)===o.current.y&&(c.fillStyle=y,c.fillRect(m,u,t,t)),c.strokeStyle=g,c.strokeRect(m,u,t,t)}const l=c.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,Math.sqrt(e.width**2+e.height**2)/2);l.addColorStop(0,"rgba(0, 0, 0, 0)"),l.addColorStop(1,"#060010"),c.fillStyle=l,c.fillRect(0,0,e.width,e.height)},w=()=>{const r=Math.max(v,.1);switch(x){case"right":n.current.x=(n.current.x-r+t)%t;break;case"left":n.current.x=(n.current.x+r+t)%t;break;case"up":n.current.y=(n.current.y+r+t)%t;break;case"down":n.current.y=(n.current.y-r+t)%t;break;case"diagonal":n.current.x=(n.current.x-r+t)%t,n.current.y=(n.current.y-r+t)%t;break}X(),d.current=requestAnimationFrame(w)},M=r=>{const f=e.getBoundingClientRect(),l=r.clientX-f.left,a=r.clientY-f.top,h=Math.floor(n.current.x/t)*t,m=Math.floor(n.current.y/t)*t,u=Math.floor((l+n.current.x-h)/t),E=Math.floor((a+n.current.y-m)/t);(!o.current||o.current.x!==u||o.current.y!==E)&&(o.current={x:u,y:E})},p=()=>{o.current=null};return e.addEventListener("mousemove",M),e.addEventListener("mouseleave",p),d.current=requestAnimationFrame(w),()=>{window.removeEventListener("resize",i),d.current&&cancelAnimationFrame(d.current),e.removeEventListener("mousemove",M),e.removeEventListener("mouseleave",p)}},[x,v,g,y,t]),Y.jsx("canvas",{ref:R,className:"squares-canvas"})};export{j as default};
