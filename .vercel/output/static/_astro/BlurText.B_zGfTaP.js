import{j as b}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.RH_Wq4ov.js";import{m as T}from"./proxy.auKWLMGQ.js";const A=(r,l)=>{const u=new Set([...Object.keys(r),...l.flatMap(t=>Object.keys(t))]),o={};return u.forEach(t=>{o[t]=[r[t],...l.map(i=>i[t])]}),o},V=({text:r="",delay:l=200,className:u="",animateBy:o="words",direction:t="top",threshold:i=.1,rootMargin:m="0px",animationFrom:x,animationTo:w,easing:d=n=>n,onAnimationComplete:h,stepDuration:j=.35})=>{const n=o==="words"?r.split(" "):r.split(""),[v,g]=a.useState(!1),c=a.useRef(null);a.useEffect(()=>{if(!c.current)return;const s=new IntersectionObserver(([e])=>{e.isIntersecting&&(g(!0),s.unobserve(c.current))},{threshold:i,rootMargin:m});return s.observe(c.current),()=>s.disconnect()},[i,m]);const E=a.useMemo(()=>t==="top"?{filter:"blur(10px)",opacity:0,y:-50}:{filter:"blur(10px)",opacity:0,y:50},[t]),S=a.useMemo(()=>[{filter:"blur(5px)",opacity:.5,y:t==="top"?5:-5},{filter:"blur(0px)",opacity:1,y:0}],[t]),f=x??E,y=w??S,p=y.length+1,k=j*(p-1),C=Array.from({length:p},(s,e)=>p===1?0:e/(p-1));return b.jsx("p",{ref:c,className:u,style:{display:"flex",flexWrap:"wrap"},children:n.map((s,e)=>{const I=A(f,y),O={duration:k,times:C,delay:e*l/1e3,ease:d};return b.jsxs(T.span,{initial:f,animate:v?I:f,transition:O,onAnimationComplete:e===n.length-1?h:void 0,style:{display:"inline-block",willChange:"transform, filter, opacity"},children:[s===" "?" ":s,o==="words"&&e<n.length-1&&" "]},e)})})};export{V as default};
